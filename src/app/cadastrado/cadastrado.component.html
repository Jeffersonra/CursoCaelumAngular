<header class="jumbotron">
    <h1 class="text-center">
      Cadastro Caelum Pic
    </h1>
  </header>
  <main class="container">

    <div class="row" *ngIf="mensagem.texto">
      <div class="col-12">
      <caelumpic-mensagem [texto]="mensagem.texto" [tipo]="mensagem.tipo"></caelumpic-mensagem>
      </div>
    </div>

    <div class="row">
      <form [formGroup]="formCadastro" class="col-md-7 mb-4" (ngSubmit)="salvar()">
          
        <div class="form-group">
          <label for="">Titulo*</label>
          <input required formControlName="titulo" type="text" class="form-control">
          
          <div *ngIf="titulo.errors && titulo.touched">
              <caelumpic-mensagem *ngIf="titulo.errors.required" tipo="danger" texto="Titulo obrigatorio"></caelumpic-mensagem>
              <caelumpic-mensagem *ngIf="titulo.errors.minlength" tipo="danger" texto="Digite ao menos 5 caracteres"></caelumpic-mensagem>
          </div>
        </div>
        
        <div class="form-group">
            <label for="">URL*</label>
            <input required formControlName="url" type="text" class="form-control">
            <caelumpic-mensagem *ngIf="formCadastro.controls.url.invalid && formCadastro.controls.url.touched" tipo="danger" texto=" Url obrigatoria"></caelumpic-mensagem>
        </div>

        <div class="form-group">
          <label for="">Descrição</label>
          <textarea  formControlName="descricao" class="form-control"></textarea>
        </div>

        <a routerLink="/" class="btn btn-secondary mr-2">Listagem</a>
        <button [disabled]="formCadastro.invalid" class="btn btn-primary">Salvar</button>
        <!-- <a routerLink="/" class="btn btn-primary">Salvar</a> -->

      </form>
      <aside class="col-md-5">
        <h2>Preview</h2>
        <caelumpic-card [foto]="foto" class="col-md-4 mb-4" *ngIf="url.value"> 
             <foto-root [url]="url.value" class="foto"></foto-root>
         </caelumpic-card>
      </aside>

    </div>
  </main>